<script>
const params = new URLSearchParams(window.location.search);
const fileId = params.get("fileId");
const token = params.get("token");

if (!fileId || !token) {
  document.body.innerHTML = "<h2>Invalid or expired link</h2>";
} else {
  fetch(
    "https://velayudhansyam.app.n8n.cloud/webhook/approve-contract" +
    `?fileId=${fileId}&token=${token}`
  )
  .then(res => res.text())
  .then(() => {
    document.body.innerHTML = "<h2>✅ Contract approved successfully</h2>";
  })
  .catch(() => {
    document.body.innerHTML = "<h2>❌ Approval failed</h2>";
  });
}
</script>
