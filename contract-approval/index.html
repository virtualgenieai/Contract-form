                action: "approve",
                fileId,
                token,
                userAgent: navigator.userAgent
              })
            }
          );

          if (!res.ok) throw new Error();

          btn.innerText = "✅ Contract Approved";
          status.innerText =
            "Thank you. Your approval has been recorded.";

        } catch {
          btn.disabled = false;
          status.innerText = "❌ Approval failed. Please try again.";
        }
      };
    });
  </script>
</body>
</html>
